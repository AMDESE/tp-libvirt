- virtual_network.connectivity_check.ethernet_interface:
    type = connectivity_check_ethernet_interface
    start_vm = no
    timeout = 240
    outside_ip = 'www.redhat.com'
    host_iface =
    variants user_type:
        - non_root_user:
            test_user = USER.EXAMPLE
            test_passwd = PASSWORD.EXAMPLE
            user_id = 
            unpr_vm_name = UNPRIVILEGED_VM.EXAMPLE
    variants:
        - positive_test:
            status_error = no
            variants:
                - no_mtu:
                    mtu_attrs = {}
                - larger_mtu:
                    tap_mtu = 2000
                    iface_mtu = 3000
                    mtu_attrs = {'mtu': {'size': ${iface_mtu}}}
                - smaller_mtu:
                    tap_mtu = 2000
                    iface_mtu = 1400
                    mtu_attrs = {'mtu': {'size': ${iface_mtu}}}
            variants tap_type:
                - tap:
                    vm_ping_outside = pass
                    vm_ping_host_public = pass
                - macvtap:
                    vm_ping_outside = pass
                    vm_ping_host_public = fail
            iface_attrs = {'target': {'dev': tap_name, 'managed': 'no'}, 'model': 'virtio', 'type_name': 'ethernet', **${mtu_attrs}}
        - negative_test:
            status_error = yes
            variants:
                - no_target_dev:
                    iface_attrs = {'model': 'virtio', 'type_name': 'ethernet', 'target': {'managed': 'no'}}
                    err_msg = target dev must be supplied when managed='no'
                - target_dev_not_exist:
                    iface_attrs = {'model': 'virtio', 'type_name': 'ethernet', 'target': {'dev': 'test', 'managed': 'no'}}
                    err_msg = target managed='no' but specified dev doesn't exist
                - managed_yes:
                    tap_type = tap
                    iface_attrs = {'model': 'virtio', 'type_name': 'ethernet', 'target': {'dev': tap_name, 'managed': 'yes'}}
                    err_msg = The .* interface already exists
    variants:
        - managed_no:
