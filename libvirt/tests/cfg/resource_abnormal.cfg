- resource_abnormal:
    type = resource_abnormal
    take_regular_screendumps = "no"
    pool_type = "fs"
    pool_target = "fs_pool"
    pool_name = "test_pool"
    volume_name = "test_vol"
    volume_size = "2G"
    emulated_image = disk_image
    emulated_file_remove = no
    target = iqn.2013-10.com.example:iscsi
    mount_dir = disk_dir
    time_out = 600
    cgroup_name = "test_cgroup"
    cgroup_dir = "/cgroup"
    cpu_num = 1
    variants:
        # TODO: Add some more abnormal resource cases
        - normal_resource:
            abnormal_type = ""
            variants:
                - once_execute:
                    no virt_clone, snapshot_create, virsh_dump
                    twice_execute = "no"
                - twice_execute:
                    only virt_clone, snapshot_create, virsh_dump
                    twice_execute = "yes"
                    variants:
                        - kill_first:
                            kill_first = "yes"
                        - leave_first:
                            no snapshot_create
                            kill_first = "no"
        - cpu_lack:
            abnormal_type = "cpu_lack"
        - memory_lack:
            abnormal_type = "memory_lack"
            tmp_c_file = "/tmp/test.c"
            tmp_exe_file = "/tmp/test"
        - disk_lack:
            abnormal_type = "disk_lack"
            fs_type = ext4
        - cpu_busy:
            abnormal_type = "cpu_busy"
            tmp_sh_file = "/tmp/test.sh"
    variants:
        # TODO: Add some more command tests
        - vol_clone:
            only normal_resource
            vms = ""
            main_vm = ""
            test_type = "Vol_clone"
            volume_new_name = "test_vol_clone"
        - vol_create:
            only normal_resource
            vms = ""
            main_vm = ""
            test_type = "Vol_create"
            volume_new_name = "test_vol_new"
        - virt_clone:
            only cpu_lack, memory_lack, disk_lack, normal_resource
            test_type = "Virt_clone"
            vm_new_name = ${main_vm}_clone
            start_vm = no
            kill_vm_before_test = yes
            new_image_file = "/add_storage/new_image"
        - snapshot_create:
            only memory_lack, cpu_busy, normal_resource
            test_type = "Snapshot_create"
            start_vm = yes
        - virsh_dump:
            only cpu_busy, normal_resource
            test_type = "Virsh_dump"
            start_vm = yes
            dump_file = "dump.info"
