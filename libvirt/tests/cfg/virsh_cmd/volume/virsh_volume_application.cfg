- virsh.volume_application:
    type = virsh_volume_application
    take_regular_screendumps = no
    volume_count = 1
    volume_size = "1G"
    variants:
        - dir:
            pool_type = "dir"
            pool_target = "dir-pool"
        - disk:
            pool_type = "disk"
            pool_target = "/dev"
            emulated_image = "disk-pool"
        - fs:
            pool_type = "fs"
            pool_target = "fs"
            emulated_image = "fs-pool"
        - logical:
            pool_type = "logical"
            pool_target = "/dev/vg_logical"
            emulated_image = "logical-pool"
        - netfs:
            pool_type = "netfs"
            pool_target = "nfs-mount"
            nfs_server_dir = "nfs-server"
            source_host = "localhost"
    variants:
        - unattended_install.cdrom:
            only Linux
            # Before test you need to create
            # $AUTOTEST_PATH/client/tests/virt/shared/data/isos/linux,
            # then copy iso into it, or create soft link for iso path
            # and the directory you created above:
            # ln -s /path/iso $AUTOTEST_PATH/client/tests/virt/shared/data/isos/linux
            application = "install"
            volume_size = 20G
            start_vm = no
            kill_vm = yes
            shutdown_cleanly = yes
            shutdown_cleanly_timeout = 120
            force_create_image = yes
            remove_image = yes
            guest_port_unattended_install = 12323
            inactivity_watcher = error
            inactivity_treshold = 1800
            image_verify_bootable = no
            unattended_delivery_method = cdrom
            cdroms += " unattended"
            drive_index_unattended = 1
            drive_index_cd1 = 2
            boot_once = d
            medium = cdrom
            redirs += " unattended_install"
            wait_no_ack = yes
            image_raw_device = yes
            create_image = no
            force_create_image = no
            backup_image_before_testing = no
            image_size_stg = ${volume_size}
            image_size = ${volume_size}
            kernel_params = "ks=cdrom nicdelay=60 console=ttyS0,115200 console=tty0"
            main_vm = "vm1"
            vms = "vm1"
        - disk_attach:
            application = "attach"
            disk_target = "vdb"
            test_message = "This is a test message"
